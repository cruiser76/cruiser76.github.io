var mapLink=document.querySelector(".contacts-button-map"),mapPopup=document.querySelector(".map"),mapClose=document.querySelector(".map .form-close");mapLink&&mapPopup&&mapClose&&(mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),mapPopup.classList.contains("modal-show")&&mapPopup.classList.remove("modal-show"))}));var writeLink=document.querySelector(".write-us-button"),writePopup=document.querySelector(".write-us"),writeClose=document.querySelector(".write-us .form-close");if(writeLink&&writePopup&&writeClose){var login=writePopup.querySelector("[name='fullname']"),email=writePopup.querySelector("[name='email']");writeLink.addEventListener("click",function(e){e.preventDefault(),writePopup.classList.add("modal-show"),login.focus()}),writeClose.addEventListener("click",function(e){e.preventDefault(),writePopup.classList.remove("modal-show")}),writePopup.addEventListener("submit",function(e){login.value&&email.value||(e.preventDefault(),writePopup.classList.remove("modal-error"),writePopup.offsetWidth=writePopup.offsetWidth,writePopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),writePopup.classList.contains("modal-show")&&(writePopup.remove("modal-show"),writePopup.classList.remove("modal-error")))})}var buyLink=document.querySelectorAll(".goods-item .buy"),bookmarksArray=document.querySelectorAll(".goods-item .bookmark"),popupAppend=document.querySelector(".append-cart"),closeAppend=document.querySelector(".append-cart .form-close"),cartLink=document.querySelector(".cart"),bookmarksLink=document.querySelector(".bookmarks");if(buyLink&&bookmarksArray&&popupAppend&&closeAppend&&cartLink&&bookmarksLink){var changeColor=function(e){0<parseInt(e.querySelector("span").innerHTML)&&(e.style.background="#ee3643")},increaseCount=function(e,r){Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(e){e.preventDefault(),r.classList.contains("cart")&&popupAppend.classList.add("modal-show");try{r.querySelector("span").innerHTML=parseInt(r.querySelector("span").innerHTML,10)+1}catch(e){r.querySelector("span").innerHTML=r.querySelector("span").innerHTML}changeColor(r)})})};increaseCount(buyLink,cartLink),increaseCount(bookmarksArray,bookmarksLink),changeColor(bookmarksLink),changeColor(cartLink),closeAppend.addEventListener("click",function(e){e.preventDefault(),popupAppend.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupAppend.classList.contains("modal-show")&&popupAppend.classList.remove("modal-show"))})}var sliderClass,serviceBtnArray=document.querySelectorAll(".service-item"),serviceSliderArray=document.querySelectorAll(".slider-item");serviceBtnArray&&serviceSliderArray&&Array.prototype.forEach.call(serviceBtnArray,function(o){o.addEventListener("click",function(e){if(e.preventDefault(),!o.classList.contains("service-active")){o.classList.add("service-active"),Array.prototype.forEach.call(serviceBtnArray,function(e){e.classList!==o.classList&&e.classList.contains("service-active")&&e.classList.remove("service-active")});for(var r=o.classList,t=0;t<r.length;t++)0<r[t].indexOf("button")&&(sliderClass=r[t].slice(0,-7))}var s=document.querySelector("."+sliderClass);s.classList.contains("slider-active")||s.classList.add("slider-active"),Array.prototype.forEach.call(serviceSliderArray,function(e){e.classList!==s.classList&&e.classList.contains("slider-active")&&e.classList.remove("slider-active")})})});var leftBtnLink=document.querySelector(".left-btn"),rightBtnLink=document.querySelector(".right-btn"),drillsLink=document.querySelector(".drills"),perforatorsLink=document.querySelector(".perforators"),slidercontrols1=document.querySelector(".slider-controls-1"),slidercontrols2=document.querySelector(".slider-controls-2");if(drillsLink){var switchSlider=function(e){e.addEventListener("click",function(e){e.preventDefault(),drillsLink.classList.contains("features-slider-active")?(drillsLink.classList.remove("features-slider-active"),perforatorsLink.classList.add("features-slider-active"),slidercontrols2.classList.remove("slider-controls-active"),slidercontrols1.classList.add("slider-controls-active")):(drillsLink.classList.add("features-slider-active"),perforatorsLink.classList.remove("features-slider-active"),slidercontrols2.classList.add("slider-controls-active"),slidercontrols1.classList.remove("slider-controls-active"))})};switchSlider(leftBtnLink),switchSlider(rightBtnLink),slidercontrols1.addEventListener("click",function(e){e.preventDefault(),slidercontrols1.classList.contains("slider-controls-active")||(drillsLink.classList.remove("features-slider-active"),perforatorsLink.classList.add("features-slider-active"),slidercontrols2.classList.remove("slider-controls-active"),slidercontrols1.classList.add("slider-controls-active"))}),slidercontrols2.addEventListener("click",function(e){e.preventDefault(),slidercontrols2.classList.contains("slider-controls-active")||(drillsLink.classList.add("features-slider-active"),perforatorsLink.classList.remove("features-slider-active"),slidercontrols2.classList.add("slider-controls-active"),slidercontrols1.classList.remove("slider-controls-active"))})}